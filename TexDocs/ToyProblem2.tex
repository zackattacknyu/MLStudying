%%
%% Class homework & solution template for latex
%% Alex Ihler
%%
\documentclass[twoside,11pt]{article}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{graphicx,color}
\usepackage{verbatim,url}
\usepackage{listings}
\usepackage{bbm}
\usepackage{subcaption} 
\usepackage{upquote}
\usepackage[T1]{fontenc}
%\usepackage{lmodern}
\usepackage[scaled]{beramono}
%\usepackage{textcomp}

% Directories for other source files and images
\newcommand{\bibtexdir}{../bib}
\newcommand{\figdir}{fig}

\newcommand{\E}{\mathrm{E}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\N}{\mathcal{N}}
\newcommand{\matlab}{{\sc Matlab}\ }

\setlength{\textheight}{9in} \setlength{\textwidth}{6.5in}
\setlength{\oddsidemargin}{-.25in}  % Centers text.
\setlength{\evensidemargin}{-.25in} %
\setlength{\topmargin}{0in} %
\setlength{\headheight}{0in} %
\setlength{\headsep}{0in} %

\renewcommand{\labelenumi}{(\alph{enumi})}
\renewcommand{\labelenumii}{(\arabic{enumii})}

\theoremstyle{definition}
\newtheorem{MatEx}{M{\scriptsize{ATLAB}} Usage Example}

\definecolor{comments}{rgb}{0,.5,0}
\definecolor{backgnd}{rgb}{.95,.95,.95}
\definecolor{string}{rgb}{.2,.2,.2}
\lstset{language=Matlab}
\lstset{basicstyle=\small\ttfamily,
        mathescape=true,
        emptylines=1, showlines=true,
        backgroundcolor=\color{backgnd},
        commentstyle=\color{comments}\ttfamily, %\rmfamily,
        stringstyle=\color{string}\ttfamily,
        keywordstyle=\ttfamily, %\normalfont,
        showstringspaces=false}
\newcommand{\matp}{\mathbf{\gg}}




\begin{document}

\section{Setup}

Let probability of goal be $p$ and $q=1-p$\\
Let $X$ be random variable of number of shots until successful goal\\
\\
We will solve for the following:\\
$P(X \leq N)$\\
$E[X]$

\section{Probability Distribution}

We will assert that $P(X=n)=p q^{n-1}$\\
As it turns out 
\[
\sum_{n=1}^{\infty} P(X=n) = p \sum_{n=0}^{\infty} q^n = p \frac{1}{1-q} = \frac{p}{p} = 1
\]
Thus it is a probability distribution

\section{Cumulative Distribution}

\[
P(X \leq N) = \sum_{n=1}^{N} p q^{n-1} = p \sum_{n=0}^{N-1} q^{n} = p \frac{1-q^N}{1-q} = 1 - q^N = 1 - (1-p)^N
\]

\section{Expected Value}

\[
E[X] = \sum_{n=1}^{\infty} n \cdot P(X=n) = p \sum_{n=1}^{\infty} n q^{n-1}=  p \sum_{n=0}^{\infty} (n+1) q^n
\]
\[
E[X] = p (\sum_{n=0}^{\infty} n q^n +  \sum_{n=0}^{\infty} q^n)
\]
\[
E[X] = p (\sum_{n=0}^{\infty} n q^n +  \frac{1}{p})
\]
Now in general for $|x|<1$, it holds by differentiating the infinite geometric series that 
\[
\frac{x}{(1-x)^2} = \sum_{n=0}^{\infty} n x^n
\]
Apply this to our case we have
\[
E[X] = \frac{pq}{(1-q)^2} + 1
\]
Since $p=1-q$ we can say that
\[
E[X] = \frac{1-p}{p} + 1
\]
And finally
\[
E[X] = \frac{1}{p}
\]

\end{document}
